export const translations = { 
  en: {
    'nav.habits': 'Habits',
    'nav.progress': 'Progress',
    'nav.stats': 'Stats',
    'auth.login': 'Login',
    'auth.signup': 'Sign Up',
    'auth.welcomeBack': 'Welcome back',
    'auth.createAccount': 'Create Account',
    'auth.email': 'Email',
    'auth.emailPlaceholder': 'your@email.com',
    'auth.password': 'Password',
    'auth.passwordPlaceholder': 'Enter password',
    'auth.name': 'Name',
    'auth.namePlaceholder': 'Your name',
    'auth.confirmPassword': 'Confirm Password',
    'auth.signinButton': 'Sign In',
    'auth.signupButton': 'Create Account',
    'auth.haveAccount': 'Already have an account?',
    'auth.noAccount': "Don't have an account?",
    'auth.switchToSignup': 'Sign up',
    'auth.switchToLogin': 'Log in',
    'auth.demoCredentials': 'Demo: test@example.com / password',
    'auth.required': 'Sign in required',
    'auth.signInToSave': 'Please sign in to save habits online',
    'auth.logout': 'Log Out',
    'auth.guestMode': 'Guest Mode',
    'auth.guestDescription': 'You are browsing as a guest. Sign in to save your habits online.',
    'habits.title': 'My Habits',
    'habits.subtitle': 'Track your daily progress',
    'habits.newButton': 'Add Habit',
    'habits.empty': 'No habits yet. Create your first one!',
    'habits.today': 'Today',
    'habits.completed': 'Completed',
    'habits.pending': 'Pending',
    'form.name': 'Habit Name',
    'form.namePlaceholder': 'e.g., Morning Meditation',
    'form.icon': 'Icon',
    'form.selectIcon': 'Select an icon',
    'form.chooseIcon': 'Choose Icon',
    'form.tapToChange': 'Tap to change',
    'form.color': 'Color',
    'form.frequency': 'Frequency',
    'form.daily': 'Daily',
    'form.weekly': 'Weekly',
    'form.monthly': 'Monthly',
    'form.notes': 'Notes',
    'form.notesPlaceholder': 'Optional notes...',
    'form.create': 'Create Habit',
    'form.update': 'Update Habit',
    'form.delete': 'Delete Habit',
    'form.cancel': 'Cancel',
    'form.deleteConfirm': 'Are you sure? This cannot be undone.',
    'stats.title': 'Progress',
    'stats.subtitle': 'Your habit overview',
    'stats.daily': 'Daily Habits',
    'stats.weekly': 'Weekly Habits',
    'stats.monthly': 'Monthly Habits',
    'stats.completed': 'Completed',
    'stats.total': 'Total',
    'stats.noData': 'No data yet. Create a habit to get started.',
    'settings.title': 'Settings',
    'settings.theme': 'Theme',
    'settings.darkMode': 'Dark Mode',
    'settings.language': 'Language',
    'settings.about': 'About',
    'settings.version': 'Version 1.0.0',
    'settings.logout': 'Sign Out',
    'settings.logoutConfirm': 'Confirm Logout',
    'settings.logoutConfirmMessage': 'Are you sure you want to logout?',
    'settings.english': 'English',
    'settings.dhivehi': 'ދިވެހި',
    'common.loading': 'Loading...',
    'common.save': 'Save',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.close': 'Close',
    'common.cancel': 'Cancel',
    'common.confirm': 'Confirm',
    'common.yes': 'Yes',
    'common.no': 'No',
    'error.title': 'Error',
    'error.tryAgain': 'Try Again',
    'error.dismiss': 'Dismiss',
    'error.generic': 'Something went wrong',
  },
  dv: {
    'nav.habits': 'ޢާދަތައް',
    'nav.progress': 'ފަދަވެ',
    'nav.stats': 'ތަފާސް ހިސާބު',
    'nav.settings': 'ސެޓިންގްސް',

    // Auth
    'auth.login': 'ލޮގިން',
    'auth.signup': 'ސައިން އަޕް',
    'auth.welcomeBack': 'މަރުޙަބާ',
    'auth.createAccount': 'އެކައުންޓް ހެދުން',
    'auth.email': 'އީމެއިލް',
    'auth.emailPlaceholder': 'your@email.com',
    'auth.password': 'ޕާސްވާޑް',
    'auth.passwordPlaceholder': 'ޕާސްވާޑް ލިޔުއްވާ',
    'auth.name': 'ނަން',
    'auth.namePlaceholder': 'ތިބާގެ ނަން',
    'auth.confirmPassword': 'ޕާސްވާޑް ކަށަވަރު ކުރުން',
    'auth.signinButton': 'ލޮގިން',
    'auth.signupButton': 'އެކައުންޓް ހެދުން',
    'auth.haveAccount': 'އެކައުންޓެއް އެބައޮތް ހެއްޔެވެ؟',
    'auth.noAccount': 'އެކައުންޓެއް ނެތް ހެއްޔެވެ؟',
    'auth.switchToSignup': 'މިތާ ސައިން އަޕް ކުރައްވާ',
    'auth.switchToLogin': 'މިތާ ލޮގިން ކުރައްވާ',
    'auth.demoCredentials': 'ޑީމޯ: test@example.com / password',
    'auth.required': 'ލޮގިން ވެރިކަމެއް ހިނގާ',
    'auth.signInToSave': 'ޢާދަތްތައް އޮނލައިނަށް ސޭވް ކުރަން ލޮގިން ވެރިކަމެއް ހިނގާ',
    'auth.logout': 'ސائިన் އިތުރުވާ',
    'auth.guestMode': 'ގެސްޓް މޯޑް',
    'auth.guestDescription': 'ތިރީ ގެސްޓެއް ރިޔަވެ ވަތަވެ. އޮނލައިނަށް ސެވް ކުރަބަދަލުވެވުނެ ލޮގިން ކުރުވީ.',
    'habits.title': 'އަހަރެންގެ ޢާދަތައް',
    'habits.subtitle': 'ރޮނގު ކުރިއެރުން ބަލައި ގަންނާ',
    'habits.newButton': 'ޢާދައެއް އިތުރު ކުރުން',
    'habits.empty': 'ޢާދަތެއް ނުފެނޭ. ފުރަތަމަ ޢާދަތް އިތުރު ކުރައްވާ!',
    'habits.today': 'މިއަދު',
    'habits.completed': 'ނިމިފައި',
    'habits.pending': 'ބާކީ',
    'form.name': 'ޢާދަތުގެ ނަން',
    'form.namePlaceholder': 'މިސާލު: ހެނދުނު މެޑިޓޭޝަން',
    'form.icon': 'އައިކޮން',
    'form.selectIcon': 'އައިކޮނެއް އިހްތިޔާރު ކުރައްވާ',
    'form.chooseIcon': 'އައިކޮން ހޮވާ',
    'form.tapToChange': 'ބަދަލު ކުރަން ޓެޕް ކުރައްވާ',
    'form.color': 'ކުލަ',
    'form.frequency': 'އިނދަސްތަ',
    'form.daily': 'ދުވާލަކު',
    'form.weekly': 'ހަފްތާއަކު',
    'form.monthly': 'މަހަކު',
    'form.notes': 'ނޯޓްސް',
    'form.notesPlaceholder': 'އިތުރު ފާހަގަކޮށްލަން ބޭނުންވާ ކަމެއް...',
    'form.create': 'ޢާދަތް ހެދުން',
    'form.update': 'އަޕްޑޭޓް ކުރުން',
    'form.delete': 'ޑިލީޓް ކުރުން',
    'form.cancel': 'ކެންސަލް',
    'form.deleteConfirm': 'ޔަޤީން ތޯ؟ މި ކަމަކީ އަނބުރާ ނުގެނެވޭނެ ކަމެކެވެ.',

    // Stats
    'stats.title': 'ކުރިއެރުން',
    'stats.subtitle': 'ޢާދަތުގެ ހުލާސާ',
    'stats.daily': 'ރޮނގު ޢާދަތައް',
    'stats.weekly': 'ހަފްތާއަކު ޢާދަތައް',
    'stats.monthly': 'މަހަކު ޢާދަތައް',
    'stats.completed': 'ނިމިފައި',
    'stats.total': 'ޖުމްލަ',
    'stats.noData': 'ޑޭޓާ ނެތް. ފުރަތަމަ ޢާދަތް ހެދުމަށްފަހު ތަފާސްހިސާބު ފެންނާނެ.',
    'settings.title': 'ސެޓިންގްސް',
    'settings.theme': 'ތީމް',
    'settings.darkMode': 'ޑާކް މޯޑް',
    'settings.language': 'ބަސް',
    'settings.about': 'ވިސްނުވާ',
    'settings.version': 'ވާރޝަން 1.0.0',
    'settings.logout': 'ސައިན އިތުރުވާ',
    'settings.logoutConfirm': 'ސައިન އިތުރުވާ ކުރަން ކަށަވަރުވާ',
    'settings.logoutConfirmMessage': 'ތިރީ ސައިނ އިތުރުވާ ކުރަނީ ބޭނުންދަ ތޯ؟',
    'settings.english': 'English',
    'settings.dhivehi': 'ދިވެހި',
    'common.loading': 'ލޯޑް ވަމުން...',
    'common.save': 'ސޭވް',
    'common.delete': 'ޑިލީޓް',
    'common.edit': 'އެޑިޓް',
    'common.close': 'ބަންދު ކުރުން',
    'common.cancel': 'ކެންސަލް',
    'common.confirm': 'ކަށަވަރު',
    'common.yes': 'އާނ',
    'common.no': 'ނޫން',
    'error.title': 'އެރަރ',
    'error.tryAgain': 'އަލުން މަސައްކަތް ކުރޭ',
    'error.dismiss': 'އޯކޭ',
    'error.generic': 'ކަމެއް ގޯސްވެއްޖެ',
  },
};

export type Language = keyof typeof translations;
export type TranslationKey = keyof typeof translations.en;

export function t(key: TranslationKey, language?: Language): string;
export function t(key: string, language?: Language): string;
export function t(key: string, language: Language = 'en'): string {
  const table = translations[language] as Record<string, string | undefined>;
  const enTable = translations.en as Record<string, string | undefined>;
  return table[key] ?? enTable[key] ?? key;
}

export function tx(
  prefix: 'form' | 'habits' | 'stats' | 'settings' | 'auth' | 'error' | 'common' | 'nav',
  suffix: string,
  language: Language = 'en'
): string {
  return t(`${prefix}.${suffix}`, language);
}